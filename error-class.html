<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Error Class</title>
  </head>
  <body>
    <script>
      //membuat class error secara manual yang di peruntukan untuk berbagai macam erro misalnya seperti error clas di bawah yaitu error Validation
      class ValidationError extends Error {
        constructor(massage, field) {
          super(massage);
          this.field = field;
        }
      }

      class MathUtil {
        static sum(...numbers) {
          //2.ketika numbers isi nya kosong atau tidak ada data sama sekali maka akan terjadi error
          if (numbers.length == 0) {
            //1.update ketika menggunakan class error kita bisa memanggil class error menggunakan throw seperti dibawah ini,awalnya dia memanggil Error tetapi sesudah menggunakan class error dia memanggil class nya untuk di oper errornya ke dalam class error Validation
            throw new ValidationError(
              "Total paramater harus lebih dari 0",
              "numbers"
            );
          }

          let total = 0;

          for (const number of numbers) {
            total += number;
          }

          return total;
        }
      }

      try {
        console.info(MathUtil.sum(1, 1));
        console.info("Reyhan");

        if (error instanceof ValidationError) {
          console.error(
            `Terjadi Error di field ${error.field} dengan error : ${error.massage}`
          );
        } else {
          console.error(`Terjadi error: ${error.massage}`);
        }
      } finally {
        console.info("Program selesai");
      }

      console.info("Reyhan");
    </script>
  </body>
</html>
